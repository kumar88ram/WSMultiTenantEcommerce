<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:MultiTenantEcommerce.Maui.ViewModels"
             xmlns:models="clr-namespace:MultiTenantEcommerce.Maui.Models"
             x:Class="MultiTenantEcommerce.Maui.Views.OrderDetailPage"
             x:DataType="viewModels:OrderDetailViewModel"
             Title="Order detail">
    <ScrollView>
        <VerticalStackLayout Padding="16" Spacing="12">
            <Label Text="{Binding Order.Id}" FontAttributes="Bold" FontSize="20" />
            <Label Text="{Binding Order.OrderedAt, StringFormat='Placed {0:MMM d, yyyy HH:mm}'}" Style="{StaticResource SubtleLabelStyle}" />
            <Label Text="{Binding Order.Status}" />
            <Label Text="{Binding Order.PaymentStatus}" />

            <Label Text="Items" FontAttributes="Bold" />
            <CollectionView ItemsSource="{Binding Items}" SelectionMode="None">
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="models:OrderItem">
                        <Grid ColumnDefinitions="*,Auto" Padding="0,6">
                            <Label Text="{Binding Name}" />
                            <Label Grid.Column="1" Text="{Binding LineTotal, StringFormat='${0:F2}'}" HorizontalTextAlignment="End" />
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <Label Text="Shipping" FontAttributes="Bold" />
            <Label Text="{Binding Order.ShippingMethod}" />
            <Label Text="{Binding Order.ShippingAddress.Line1}" />
            <Label Text="{Binding Order.ShippingAddress.City}" />
            <Label Text="{Binding Order.Total, StringFormat='${0:F2}'}" FontAttributes="Bold" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
